name: Discord Notification on Push

on:
  push:
    branches:
      - main
      - develop

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        uses: tsickert/discord-webhook@v5.3.0
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          content: "ğŸš€ ìƒˆë¡œìš´ ì»¤ë°‹ì´ ${{ github.ref_name }} ë¸Œëœì¹˜ì— í‘¸ì‹œë˜ì–´ ë°°í¬ê°€ ì‹œì‘ë©ë‹ˆë‹¤!"
          embed: >-
            {
              "title": "ğŸ“¦ ë°°í¬ ì‹œì‘ ì•Œë¦¼ - ${{ github.repository }}",
              "description": "í•´ë‹¹ ì»¤ë°‹ì´ Vercelì— ì˜í•´ ë°°í¬ë  ì˜ˆì •ì…ë‹ˆë‹¤.",
              "color": 3447003,
              "fields": [
                {
                  "name": "ğŸ§¾ ì»¤ë°‹ ë©”ì‹œì§€",
                  "value": "${{ github.event.head_commit.message }}"
                },
                {
                  "name": "ğŸ‘¤ í‘¸ì‹œí•œ ì‚¬ëŒ",
                  "value": "${{ github.actor }}"
                },
                {
                  "name": "ğŸ”— ì»¤ë°‹ ë§í¬",
                  "value": "${{ github.event.head_commit.url }}"
                }
              ]
            }